# 开发规则.md

/proj/aigame/webapp 用于存放nuxt的程序
/proj/aigame/evaluateapp 用于存放python评测程序

## 指导原则

- 运行任何pnpm，npx，python等命令，需要先cd到绝对路径
- nuxt使用`pnpm`和`npx`
- python需要先激活环境`source /proj/aigame/evaluateapp/.venv/bin/activate`
- 除非用户明确要求，否则默认不需要进行测试，测试由用户亲自进行或者让用户给你带auth信息的`curl`命令。

## 目录结构说明

### `/proj/aigame/webapp` (Nuxt.js 前端应用)

这是一个基于 Nuxt.js 框架构建的现代 Web 应用程序。目录结构遵循 Nuxt 的约定，便于开发和维护。

使用nuxtui和tailwind css v4

-   `assets/`: 用于存放需要通过构建工具处理的静态资源，例如全局 CSS、Sass 文件或字体。
-   `components/`: 存放可复用的 Vue.js 组件。
    -   `common/`: 通用基础组件，如按钮、分页器等。
    -   `layout/`: 布局相关的组件，如页眉、页脚、侧边栏等。
    -   `specific/`: 特定页面或功能相关的组件，如排行榜图表。
-   `composables/`: 存放 Nuxt 3 的组合式函数 (Composables)，用于封装和复用响应式的、有状态的逻辑。
-   `layouts/`: 定义了应用程序的布局模板。例如 `default.vue` 文件定义了包含导航栏和页脚的默认页面结构。
-   `middleware/`: 存放路由中间件。这些中间件可以在页面渲染前执行，用于实现例如用户认证、权限检查等功能。
-   `pages/`: 定义了应用程序的页面和路由结构。Nuxt 会根据此目录下的文件结构自动生成 Vue Router 配置。
-   `plugins/`: 用于集成需要在 Vue 应用初始化时运行的第三方或自定义插件。
-   `public/`: 存放不需要经过构建处理的静态文件，可以直接通过应用的根 URL 访问，例如 `favicon.ico` 和 `robots.txt`。
-   `server/`: 存放所有服务器端的逻辑。
    -   `api/`: 定义了应用的后端 API 接口。每个文件对应一个 API 端点，支持按 HTTP 方法（如 `.get.ts`, `.post.ts`）创建处理器。

### `/proj/aigame/evaluateapp` (Python 评测服务)

这是一个基于 Python 的后端应用程序，主要负责执行代码评测任务。它采用模块化的结构来分离不同的功能。

-   `api/`: 包含 API 接口的定义，通常使用像 FastAPI 这样的框架来处理 HTTP 请求和响应。
-   `core/`: 存放应用程序的核心业务逻辑和主要功能实现。
-   `schemas/`: 定义数据模型（通常使用 Pydantic），用于请求和响应数据的验证、序列化和文档生成。
-   `services/`: 存放与外部服务交互或执行特定、独立任务的模块。例如，`sandbox.py` 可能用于在隔离环境中执行用户提交的代码。